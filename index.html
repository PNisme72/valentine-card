<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>ğŸ’Œ æƒ…äººç¯€å¡ç‰‡</title>
  <style>
    :root{
      --bg1:#ff9ccf; --bg2:#ff3b7a; --card:#ffffff22; --txt:#fff;
    }
    *{box-sizing:border-box}
    body{
      margin:0; height:100vh; overflow:hidden;
      display:flex; align-items:center; justify-content:center;
      background:linear-gradient(180deg,var(--bg1),var(--bg2));
      font-family: system-ui, -apple-system, "PingFang TC", "Noto Sans TC", Arial, sans-serif;
      color:var(--txt);
      user-select:none;
    }
    .wrap{
      width:min(420px, 92vw);
      padding:18px 16px 22px;
      border-radius:24px;
      background:var(--card);
      backdrop-filter: blur(10px);
      box-shadow: 0 12px 40px rgba(0,0,0,.18);
      text-align:center;
      position:relative;
    }
    .hint{
      font-size:14px; opacity:.9; margin-bottom:12px;
    }
    .stage{
      font-size:96px;
      line-height:1;
      margin:12px 0 8px;
      transition: transform .5s ease, opacity .4s ease, filter .5s ease;
      filter: drop-shadow(0 10px 16px rgba(0,0,0,.18));
    }
    .btn{
      margin-top:10px;
      display:inline-flex; gap:8px; align-items:center; justify-content:center;
      padding:10px 14px;
      border-radius:999px;
      background:#ffffff33;
      border:1px solid #ffffff2e;
      color:#fff;
      font-weight:600;
      font-size:14px;
    }
    .msg{
      margin-top:14px;
      font-size:22px;
      line-height:1.35;
      opacity:0;
      transform: translateY(8px);
      transition: .7s ease;
      padding:10px 6px 0;
    }
    .msg.show{
      opacity:1;
      transform: translateY(0);
    }
    .sub{
      margin-top:8px;
      font-size:14px;
      opacity:.9;
    }
    .sparkle{
      position:absolute;
      inset:0;
      pointer-events:none;
    }
    .heart{
      position:absolute;
      bottom:-30px;
      animation: floatUp 4.8s linear forwards;
      opacity:.95;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.12));
    }
    @keyframes floatUp{
      from { transform: translateY(0) scale(1); opacity:.95; }
      to   { transform: translateY(-110vh) scale(1.25); opacity:0; }
    }
    .pop{
      animation: pop .55s ease;
    }
    @keyframes pop{
      0%{transform:scale(.9)}
      60%{transform:scale(1.12)}
      100%{transform:scale(1)}
    }
    .shake{
      animation: shake .6s ease;
    }
    @keyframes shake{
      0%{transform:rotate(0)}
      20%{transform:rotate(-8deg)}
      40%{transform:rotate(8deg)}
      60%{transform:rotate(-6deg)}
      80%{transform:rotate(6deg)}
      100%{transform:rotate(0)}
    }
  </style>
</head>
<body>
  <div class="wrap" id="tapArea">
    <div class="hint" id="hint">é»ä¸€ä¸‹ç¦®ç‰© ğŸ</div>
    <div class="stage pop" id="emoji">ğŸ</div>
    <div class="btn" id="btn">è´å„¿</div>

    <div class="msg" id="msg">
      Happy Valentine's Day â¤ï¸<br/>
      å¦³æ˜¯æœ€å¥½çš„ï¼Œæ„¿å¦³æ°¸è¿œä¸é‡åˆ°æ¸£ç”·ã€‚
      <div class="sub" id="sig">â€” From Pi çš„ç¥è´º</div>
    </div>

    <div class="sparkle" id="sparkle"></div>
  </div>

<script>
  const stages = [
    {emoji:"ğŸ", hint:"é»ä¸€ä¸‹ç¦®ç‰© ğŸ"},
    {emoji:"ğŸ’", hint:"èŠ±æŸé€çµ¦ä½  ğŸ’ï¼ˆè¯´å¥½çš„é²œèŠ±ï¼‰"},
    {emoji:"ğŸ«", hint:"å†ä¾†ä¸€ä»½å·§å…‹åŠ› ğŸ«ï¼ˆå†æ¥ä¸ªæƒ…äººèŠ‚å·§å…‹åŠ›ï¼Œåƒä¸èƒ–çš„é‚£ç§ï¼‰"},
    {emoji:"ğŸ’Œ", hint:"æœ€å¾Œä¸€æ®µè©±â€¦ï¼ˆå†é»ä¸€æ¬¡ï¼‰"},
  ];

  let i = 0;
  const tapArea = document.getElementById("tapArea");
  const emojiEl = document.getElementById("emoji");
  const hintEl  = document.getElementById("hint");
  const msgEl   = document.getElementById("msg");
  const sparkle = document.getElementById("sparkle");

  function pop(el, cls){
    el.classList.remove(cls);
    void el.offsetWidth;
    el.classList.add(cls);
  }

  function spawnHeart(){
    const h = document.createElement("div");
    h.className = "heart";
    h.textContent = Math.random() > 0.2 ? "â¤ï¸" : "ğŸ’—";
    h.style.left = (Math.random()*100) + "%";
    h.style.fontSize = (18 + Math.random()*26) + "px";
    h.style.animationDuration = (3.6 + Math.random()*2.2) + "s";
    sparkle.appendChild(h);
    setTimeout(()=>h.remove(), 6000);
  }

  setInterval(spawnHeart, 380);

  function next(){
    if(i < stages.length-1){
      i++;
      emojiEl.textContent = stages[i].emoji;
      hintEl.textContent = stages[i].hint;

      pop(emojiEl, "pop");
      if(i === 1) pop(emojiEl, "shake");
      if(i === 2) pop(emojiEl, "pop");

      if(i === 3){
        // é¡¯ç¤ºä¿¡å°å¾Œæç¤ºå†é»ä¸€æ¬¡å‡ºç¥ç¦
      }
    }else{
      msgEl.classList.add("show");
      hintEl.textContent = "â¤ï¸";
      pop(msgEl, "show");
    }
  }

  tapArea.addEventListener("click", next);
  document.getElementById("btn").addEventListener("click", (e)=>{ e.stopPropagation(); next(); });

</script>
</body>
</html>
